<section id="input-mask-section">

  <h1>{{ "Custom Input Mask Value" }}</h1>

  <div class="input-wrap">
    <form
      *ngIf="form"
      [formGroup]="form"
      class="input-container"
      >

      <h2>{{ "User Input" }}</h2>

      <mat-form-field
        *ngIf="accMaskOptions"
        appearance="standard"
        >
        <mat-label>{{ "Account" }}</mat-label>
        <input
          matInput
          type="text"
          [maxlength]="10"
          formControlName="account"
          placeholder="Enter Account"
          [inputMaskD]="accMaskOptions"
          (input)="$event.preventDefault"
          (select)="accInp.select()"
          (blur)="accControl?.markAsTouched()"
          required
          #accInp
          >
        <mat-icon
          matSuffix
          (click)="changeVisibility(accMaskOptions, 'acc')"
          >
          {{ accMaskOptions.show ? 'visibility' : 'visibility_off' }}
        </mat-icon>
        <mat-hint>
          {{ "Masking digits " + (accMaskOptions.sIndex + 1) + " to " + (accMaskOptions.sIndex+accMaskOptions.cut) + " of the Account with the symbol " + "\'" + accMaskOptions.symbol + "\'" + "." }}
        </mat-hint>
        <mat-error
          *ngIf="accControl?.hasError('required')">
          {{ "Required" }}
          </mat-error>
        <mat-error
          *ngIf="accControl?.hasError('pattern') || accControl?.hasError('maxlength')">
          {{ "Limit input to alphanumeric characters." }}
        </mat-error>
      </mat-form-field>

      <mat-form-field
        *ngIf="phoneMaskOptions"
        appearance="standard"
        >
        <mat-label>{{ "Phone" }}</mat-label>
        <input
          matInput
          type="text"
          [maxlength]="10"
          formControlName="phone"
          placeholder="Enter Phone"
          [inputMaskD]="phoneMaskOptions"
          (input)="$event.preventDefault"
          (select)="phoneInp.select()"
          (blur)="phoneControl?.markAsTouched()"
          #phoneInp
          >
        <mat-icon
          matSuffix
          (click)="changeVisibility(phoneMaskOptions, 'phone')"
          >
          {{ phoneMaskOptions.show ? 'visibility' : 'visibility_off' }}
        </mat-icon>
        <mat-hint>
          {{ "Masking digits 5 to 8 of the Phone with the symbol '‚óè'." }}
        </mat-hint>
        <mat-error
          *ngIf="phoneControl?.hasError('required')">
          {{ "Required" }}
        </mat-error>
        <mat-error
          *ngIf="phoneControl?.hasError('pattern') || phoneControl?.hasError('maxlength')">
          {{ "Limit input to numbers within ten digits." }}
      </mat-error>
      </mat-form-field>

      <mat-form-field
        *ngIf="emailMaskOptions"
        appearance="standard"
        >
        <mat-label>{{ "Email" }}</mat-label>
        <input
          matInput
          type="text"
          [maxlength]="30"
          formControlName="email"
          placeholder="Enter Email"
          [dynamicInputMaskD]="emailMaskOptions"
          (input)="emailChange(emailInp.value, $event); $event.preventDefault"
          (select)="emailInp.select()"
          (blur)="emailControl?.markAsTouched()"
          required
          #emailInp
          >
        <mat-icon
          matSuffix
          (click)="changeVisibility(emailMaskOptions, 'email')"
          >
          {{ emailMaskOptions.show ? 'visibility' : 'visibility_off' }}
        </mat-icon>
        <mat-hint>
          {{ "Masking digits " + (emailMaskOptions.sIndex + 1) + " to " + (emailMaskOptions.sIndex+emailMaskOptions.cut) + " of the Account with the symbol " + "\'" + emailMaskOptions.symbol + "\'" + "." }}
        </mat-hint>
        <mat-error
          *ngIf="emailControl?.hasError('required')">
          {{ "Required" }}
          </mat-error>
        <mat-error
          *ngIf="emailControl?.hasError('pattern') || emailControl?.hasError('maxlength')">
          {{ "Invalid email format." }}
        </mat-error>
      </mat-form-field>

      <mat-form-field
        *ngIf="nameMaskOptions"
        appearance="standard"
        >
        <mat-label>{{ "Name" }}</mat-label>
        <input
          matInput
          type="text"
          [maxlength]="30"
          formControlName="name"
          placeholder="Enter Name"
          [dynamicInputMaskD]="nameMaskOptions"
          (input)="nameChange(nameInp.value, $event); $event.preventDefault"
          (select)="nameInp.select()"
          (blur)="nameControl?.markAsTouched()"
          required
          #nameInp
          >
        <mat-icon
          matSuffix
          (click)="changeVisibility(nameMaskOptions, 'name')"
          >
          {{ nameMaskOptions.show ? 'visibility' : 'visibility_off' }}
        </mat-icon>
        <mat-hint>
          {{ "Masking digits " + (nameMaskOptions.sIndex + 1) + " to " + (nameMaskOptions.sIndex+nameMaskOptions.cut) + " of the Account with the symbol " + "\'" + nameMaskOptions.symbol + "\'" + "." }}
        </mat-hint>
        <mat-error
          *ngIf="nameControl?.hasError('required')">
          {{ "Required" }}
          </mat-error>
        <mat-error
          *ngIf="nameControl?.hasError('pattern') || nameControl?.hasError('maxlength')">
          {{ "Limit to Chinese, English, and spaces." }}
        </mat-error>
      </mat-form-field>

      <div class="btn-container">
        <button
          mat-raised-button
          color="primary"
          (click)="showFormValue()"
          >
          {{ "Submit" }}
        </button>
      </div>
    </form>
  </div>

  <div
    class="text-container"
    *ngIf="showValue"
    >
    <h2>{{ "Form Value" }}</h2>
    <pre>{{ form.value | json }}</pre>
  </div>

</section>




